{# templates/components/product-card.html.twig #}
{# Usage: {% include 'components/product-card.html.twig' with {'product': product} %} #}

<div class="card product-card h-100 shadow-sm">
    
    {# Product Image #}
    {% if product.image %}
        <img src="{{ asset('uploads/products/' ~ product.image) }}" class="card-img-top" alt="{{ product.Nom }}">
    {% else %}
        <div style="height: 250px; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center;">
            <span style="font-size: 5rem;">ðŸ¥¤</span>
        </div>
    {% endif %}
    
    <div class="card-body d-flex flex-column">
        {# Product Name #}
        <h5 class="card-title">
            <a href="{{ path('app_product_show', {id: product.id}) }}" class="text-decoration-none text-dark">
                {{ product.Nom }}
            </a>
        </h5>
        
        {# Product Description #}
        <p class="card-text text-muted small flex-grow-1">
            {{ product.Description|length > 80 ? product.Description|slice(0, 80) ~ '...' : product.Description }}
        </p>
        
        {# Price #}
        <div class="d-flex justify-content-between align-items-center mb-3">
            <span class="h5 mb-0 text-primary">{{ product.price }} â‚¬</span>
        </div>
        
        {# Action Buttons #}
        <div class="d-flex gap-2 mt-auto">
            <a href="{{ path('app_product_show', {id: product.id}) }}" class="btn btn-outline-primary flex-grow-1">
                <i class="bi bi-eye"></i> View
            </a>
            <form method="post" action="{{ path('app_add_to_cart', {id: product.id}) }}" class="flex-grow-1">
                <input type="hidden" name="quantity" value="1">
                <button type="submit" class="btn btn-primary w-100" title="Add to Cart" {% if not product.isInStock() %}disabled{% endif %}>
                    <i class="bi bi-cart-plus"></i> Add
                </button>
            </form>
        </div>
    </div>
</div>